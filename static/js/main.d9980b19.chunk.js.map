{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/spinner/Spinner.module.css","components/searchbar/Searchbar.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/spinner/Spinner.jsx","App.js","components/API/API.jsx","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","type","name","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","configure","ImageGalleryItem","itemId","webformatURL","tags","onClick","src","alt","ImageGallery","data","openModal","getImageForModal","map","id","Button","modalRoot","document","getElementById","Modal","largeImageUrl","onClose","handleKeyDown","useCallback","code","handleBackdropClick","target","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","Spinner","spinner","color","height","width","timeout","App","showModal","setShowModal","loading","setLoading","images","setImages","page","setPage","modalContent","setModalContent","setAlt","axios","get","then","res","status","hits","transition","Flip","API","length","warn","Bounce","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","finally","toggleModal","isNotLastPage","btnEnable","element","find","largeImageURL","prevPage","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d9980b19.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__10mGV\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image___TOto\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1DFgM\",\"Modal\":\"Modal_Modal__1odQD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3HTXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__mBjfh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__1O0_E\"};","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { IoIosSearch } from 'react-icons/io';\r\nimport s from '../searchbar/Searchbar.module.css';\r\ntoast.configure();\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n  const searchQuery = e => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      toast.error('Please, enter a name!');\r\n      return;\r\n    }\r\n    setQuery('');\r\n    onSubmit(query);\r\n  };\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s['SearchForm-button']}>\r\n          <IoIosSearch />\r\n        </button>\r\n        <input\r\n          name=\"query\"\r\n          className={s['SearchForm-input']}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={searchQuery}\r\n          value={query}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from '../imageGalleryItem/ImageGalleryItem.module.css';\r\nexport default function ImageGalleryItem({\r\n  itemId,\r\n  webformatURL,\r\n  tags,\r\n  onClick,\r\n}) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        className={s['ImageGalleryItem-image']}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={() => {\r\n          onClick(itemId);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n}\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/imageGalleryItem/ImageGalleryItem';\r\nimport s from '../imageGallery/ImageGallery.module.css';\r\nexport default function ImageGallery({ data, openModal, getImageForModal }) {\r\n  return (\r\n    <ul className={s.ImageGallery} onClick={openModal}>\r\n      {data.map(({ id, webformatURL, tags }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            onClick={getImageForModal}\r\n            itemId={id}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n    }),\r\n  ),\r\n  openModal: PropTypes.func,\r\n  getImageForModal: PropTypes.func,\r\n};\r\n","import s from '../button/Button.module.css';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={s.Button}>\r\n      More\r\n    </button>\r\n  );\r\n}\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport s from '../modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nconst modalRoot = document.getElementById('modal-root');\r\nexport default function Modal({ largeImageUrl, alt, onClose }) {\r\n  const handleKeyDown = useCallback(\r\n    e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose],\r\n  );\r\n  const handleBackdropClick = useCallback(\r\n    e => {\r\n      if (e.currentTarget === e.target) {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose],\r\n  );\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [handleKeyDown]);\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageUrl} alt={alt} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  largeImageUrl: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from '../spinner/Spinner.module.css';\r\nexport default function Spinner() {\r\n  return (\r\n    <div>\r\n      <Loader\r\n        className={s.spinner}\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { toast, Bounce } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Searchbar from 'components/searchbar/Searchbar';\r\nimport ImageGallery from 'components/imageGallery/ImageGallery';\r\nimport Button from 'components/button/Button';\r\nimport Modal from 'components/modal/Modal';\r\nimport Spinner from 'components/spinner/Spinner';\r\nimport API from 'components/API/API';\r\ntoast.configure();\r\nfunction scrollPageDown() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\nexport default function App() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [images, setImages] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [modalContent, setModalContent] = useState('');\r\n  const [alt, setAlt] = useState('');\r\n  const handleFormSubmit = query => {\r\n    setQuery(query);\r\n    setPage(1);\r\n    setImages([]);\r\n  };\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    setLoading(true);\r\n    const getResults = () => {\r\n      API(query, page)\r\n        .then(hits => {\r\n          if (hits.length === 0) {\r\n            toast.warn('There are no images. Try another request, please', {\r\n              transition: Bounce,\r\n            });\r\n          }\r\n          setImages(prevImages => {\r\n            return [...prevImages, ...hits];\r\n          });\r\n          scrollPageDown();\r\n        })\r\n        .finally(() => {\r\n          return setLoading(false);\r\n        });\r\n    };\r\n    getResults();\r\n  }, [query, page]);\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  const getImageForModal = itemId => {\r\n    const element = images.find(({ id }) => id === itemId);\r\n    setModalContent(element.largeImageURL);\r\n    setAlt(element.tags);\r\n  };\r\n  const pageIncrement = () => {\r\n    setPage(prevPage => {\r\n      return prevPage + 1;\r\n    });\r\n  };\r\n  const isNotLastPage = images.length / page === 12;\r\n  const btnEnable = images.length > 0 && !loading && isNotLastPage;\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {images.length !== 0 && (\r\n        <ImageGallery\r\n          data={images}\r\n          getImageForModal={getImageForModal}\r\n          openModal={toggleModal}\r\n        />\r\n      )}\r\n      {loading && <Spinner />}\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} largeImageUrl={modalContent} alt={alt} />\r\n      )}\r\n      {btnEnable && <Button onClick={pageIncrement} />}\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { toast, Flip } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst API_KEY = '23477819-44226e1e125dfcf9362a81201';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\ntoast.configure();\r\nexport default function API(query, page) {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\r\n    )\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        const { hits } = res.data;\r\n        return hits;\r\n      }\r\n      if (res.status === 404) {\r\n        toast.error('Images are not exist', { transition: Flip });\r\n      }\r\n    });\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3wHTO\",\"SearchForm\":\"Searchbar_SearchForm__3MUS6\",\"SearchForm-button\":\"Searchbar_SearchForm-button__24-pz\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3Hh1d\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2ueUy\"};"],"sourceRoot":""}