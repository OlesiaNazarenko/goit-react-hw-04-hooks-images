(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3FR0I","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__WZzkn"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2UYGS",Modal:"Modal_Modal__3l2Jf"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3JXxN"}},26:function(e,t,a){e.exports={Button:"Button_Button__oCPpm"}},28:function(e,t,a){e.exports={spinner:"Spinner_spinner__20en3"}},35:function(e,t,a){},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__21KRw",SearchForm:"Searchbar_SearchForm__2AunT","SearchForm-button":"Searchbar_SearchForm-button__UNH6G","SearchForm-button-label":"Searchbar_SearchForm-button-label__UtCvK","SearchForm-input":"Searchbar_SearchForm-input__23Zfl"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(35),a(16)),s=a(5),l=a(4),u=(a(13),a(30)),m=a(7),b=a.n(m),j=a(1);function h(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(j.jsx)("header",{className:b.a.Searchbar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(o(""),t(c)):l.c.error("Please, enter a name!")},children:[Object(j.jsx)("button",{type:"submit",className:b.a["SearchForm-button"],children:Object(j.jsx)(u.a,{})}),Object(j.jsx)("input",{name:"query",className:b.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)},value:c})]})})}l.c.configure();var f=a(14),g=a.n(f);function d(e){var t=e.itemId,a=e.webformatURL,n=e.tags,r=e.onClick;return Object(j.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(j.jsx)("img",{className:g.a["ImageGalleryItem-image"],src:a,alt:n,onClick:function(){r(t)}})})}var O=a(25),p=a.n(O);function _(e){var t=e.data,a=e.openModal,n=e.getImageForModal;return Object(j.jsx)("ul",{className:p.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags;return Object(j.jsx)(d,{webformatURL:a,tags:r,onClick:n,itemId:t},t)}))})}var x=a(26),S=a.n(x);function v(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:t,className:S.a.Button,children:"More"})}var I=a(15),y=a.n(I);function w(e){var t=e.largeImageUrl,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&a()};return Object(j.jsx)("div",{className:y.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsx)("div",{className:y.a.Modal,children:Object(j.jsx)("img",{src:t})})})}var k=a(27),F=a.n(k),C=(a(57),a(28)),G=a.n(C);function N(){return Object(j.jsx)("div",{children:Object(j.jsx)(F.a,{className:G.a.spinner,type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3})})}var M=a(29),U=a.n(M);function E(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),u=o[0],m=o[1],b=Object(n.useState)([]),f=Object(s.a)(b,2),g=f[0],d=f[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),x=p[0],S=p[1],I=Object(n.useState)(1),y=Object(s.a)(I,2),k=y[0],F=y[1],C=Object(n.useState)(""),G=Object(s.a)(C,2),M=G[0],E=G[1];Object(n.useEffect)((function(){if(x){m(!0);(function(e,t){return U.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("23477819-44226e1e125dfcf9362a81201")).then((function(e){if(200===e.status)return e.data.hits;404===e.status&&l.c.error("Images are not exist",{transition:l.b})}))})(x,k).then((function(e){0===e.length&&l.c.warn("There are no images. Try another request, please",{transition:l.a}),d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).finally((function(){return m(!1)}))}}),[x,k]);var T=function(){r(!a)},L=g.length/k===12,R=g.length>0&&!u&&L;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{onSubmit:function(e){S(e),F(1),d([])}}),0!==g.length&&Object(j.jsx)(_,{data:g,getImageForModal:function(e){var t=g.find((function(t){return t.id===e}));E(t.largeImageURL)},openModal:T}),u&&Object(j.jsx)(N,{}),a&&Object(j.jsx)(w,{onClose:T,largeImageUrl:M}),R&&Object(j.jsx)(v,{onClick:function(){F((function(e){return e+1}))}})]})}l.c.configure(),l.c.configure(),o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0e5605bb.chunk.js.map