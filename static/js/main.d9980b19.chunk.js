(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__10mGV","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image___TOto"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1DFgM",Modal:"Modal_Modal__1odQD"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3HTXo"}},26:function(e,t,a){e.exports={Button:"Button_Button__mBjfh"}},28:function(e,t,a){e.exports={spinner:"Spinner_spinner__1O0_E"}},35:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(35),a(16)),l=a(5),s=a(4),u=(a(13),a(30)),m=a(8),b=a.n(m),j=a(1);function h(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(j.jsx)("header",{className:b.a.Searchbar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(o(""),t(c)):s.c.error("Please, enter a name!")},children:[Object(j.jsx)("button",{type:"submit",className:b.a["SearchForm-button"],children:Object(j.jsx)(u.a,{})}),Object(j.jsx)("input",{name:"query",className:b.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)},value:c})]})})}s.c.configure();var g=a(14),f=a.n(g);function d(e){var t=e.itemId,a=e.webformatURL,n=e.tags,r=e.onClick;return Object(j.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(j.jsx)("img",{className:f.a["ImageGalleryItem-image"],src:a,alt:n,onClick:function(){r(t)}})})}var O=a(25),p=a.n(O);function _(e){var t=e.data,a=e.openModal,n=e.getImageForModal;return Object(j.jsx)("ul",{className:p.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags;return Object(j.jsx)(d,{webformatURL:a,tags:r,onClick:n,itemId:t},t)}))})}var S=a(26),x=a.n(S);function y(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:t,className:x.a.Button,children:"More"})}var I=a(15),v=a.n(I),w=document.getElementById("modal-root");function k(e){var t=e.largeImageUrl,a=e.alt,r=e.onClose,o=Object(n.useCallback)((function(e){"Escape"===e.code&&r()}),[r]),i=Object(n.useCallback)((function(e){e.currentTarget===e.target&&r()}),[r]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[o]),Object(c.createPortal)(Object(j.jsx)("div",{className:v.a.Overlay,onClick:i,children:Object(j.jsx)("div",{className:v.a.Modal,children:Object(j.jsx)("img",{src:t,alt:a})})}),w)}var F=a(27),C=a.n(F),G=(a(57),a(28)),M=a.n(G);function N(){return Object(j.jsx)("div",{children:Object(j.jsx)(C.a,{className:M.a.spinner,type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3})})}var E=a(29),T=a.n(E);function U(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),u=o[0],m=o[1],b=Object(n.useState)([]),g=Object(l.a)(b,2),f=g[0],d=g[1],O=Object(n.useState)(""),p=Object(l.a)(O,2),S=p[0],x=p[1],I=Object(n.useState)(1),v=Object(l.a)(I,2),w=v[0],F=v[1],C=Object(n.useState)(""),G=Object(l.a)(C,2),M=G[0],E=G[1],U=Object(n.useState)(""),B=Object(l.a)(U,2),L=B[0],D=B[1];Object(n.useEffect)((function(){if(S){m(!0);(function(e,t){return T.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("23477819-44226e1e125dfcf9362a81201")).then((function(e){if(200===e.status)return e.data.hits;404===e.status&&s.c.error("Images are not exist",{transition:s.b})}))})(S,w).then((function(e){0===e.length&&s.c.warn("There are no images. Try another request, please",{transition:s.a}),d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).finally((function(){return m(!1)}))}}),[S,w]);var H=function(){r(!a)},R=f.length/w===12,q=f.length>0&&!u&&R;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{onSubmit:function(e){x(e),F(1),d([])}}),0!==f.length&&Object(j.jsx)(_,{data:f,getImageForModal:function(e){var t=f.find((function(t){return t.id===e}));E(t.largeImageURL),D(t.tags)},openModal:H}),u&&Object(j.jsx)(N,{}),a&&Object(j.jsx)(k,{onClose:H,largeImageUrl:M,alt:L}),q&&Object(j.jsx)(y,{onClick:function(){F((function(e){return e+1}))}})]})}s.c.configure(),s.c.configure(),o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(U,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3wHTO",SearchForm:"Searchbar_SearchForm__3MUS6","SearchForm-button":"Searchbar_SearchForm-button__24-pz","SearchForm-button-label":"Searchbar_SearchForm-button-label__3Hh1d","SearchForm-input":"Searchbar_SearchForm-input__2ueUy"}}},[[76,1,2]]]);
//# sourceMappingURL=main.d9980b19.chunk.js.map